<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Javascript实现摩斯码转换">
    <meta name="author" content="liaoyu">
    <title>Morse Code Translator - L君还在说之乎者也</title>
    <link rel="stylesheet" type="text/css" href="./css/morse-code.css">
</head>
<body>
<div id="main">
    <h3>摩斯码加密解密 - L君还在说之乎者也</h3>
    <p id="main-site"><a href="/lab/">返回>></a></p>

    <p>input: </p>
    <textarea id="input"></textarea>
    <p id="error">Invalid characters in input.</p>
    <p>output: </p>
    <textarea id="output" disabled="disabled"></textarea>
    <button id="parse">加密</button>
    <button id="decode">解密</button>
    <button id="reset">清空</button>
</div>

<script type="text/javascript" src="./js/morse-code.js"></script>
<script type="text/javascript">
window.onload = function() {
    var input = document.getElementById('input');
    var output = document.getElementById('output');
    var parse = document.getElementById('parse');
    var decode = document.getElementById('decode');
    var reset = document.getElementById('reset');
    var error = document.getElementById('error');

    parse.onclick = function() {
        output.value = morse.parse(utils.trim(input.value));
        toggleError();
    }
    decode.onclick = function() {
        output.value = morse.decode(utils.trim(input.value));
        toggleError();
    }
    reset.onclick = function() {
        input.value = '';
        output.value = '';
        error.style.display = 'none';
    }

    function toggleError(){
        if(morse.error_flag) {
            error.style.display = 'block';
        } else {
            error.style.display = 'none';
        }
    }
}
</script>
</body>
</html>